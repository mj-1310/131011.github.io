---
layout: post
title: "윈도우 10에서 딥러닝 개발환경 구축하기"
author: "MJ"
categories: [software, os]
tags: [window10, DeepLearning]
image: startup_1280.jpg
---

1. 조건


* 운영체제: 윈도우 10
* 그래픽카드: NVIDIA Geforce RTX 2070
* 드라이버: 419.71
* 딥러닝을 위한 개발 언어는 Python
* Python 기본개발툴(IDLE) 외의 에디터(IDE, 통합개발환경)로는 주피터노트북트북과 파이참 이용
* 아나콘다: 파이썬 관련 패키지를 일괄 다운/설치/관리하는 배포판 중 하나
* CUDA: NVIDIA에서 개발한 GPU전용 개발 도구
* cuDNN: CUDA를 딥러닝에 특화해 사용할 수 있게 해주는 라이브러리

<br>---<br>

2. 설치 순서 및 버전


(1) 3dp chip으로 nvidia 그래픽 드라이버 설치 가능 여부 확인 | win+R+dxdiag로도 확인 가능
(2) *NVIDIA 그래픽 드라이버** 설치: https://www.nvidia.co.kr/Download/Find.aspx?lang=kr
(3) **Anaconda3** 버전 5.2(파이썬 3.6) 설치: www.anaconda.com

* 설치 중간 화면에서 Just Me 대신에 All Users선택
* 설치 중간 화면에서 Destinateion Folder를 C:\Anaconda3으로 변경
* 설치 중간 화면에서 Advanced Options에서 Add Anaconda ~ PATH 관련 체크박스는 해제 | Register Anaconda ~ Phtyon3.6 관련 체크박스는 선택
* 설치 막바지에서 Install Microsoft VSCode는 Skip버튼 클릭

<blockquote>
	(base) C:\Users\○○○>&emsp;conda --version &emsp;&emsp;&emsp;# 아나콘다 버전 확인
	(base) C:\Users\○○○>&emsp;conda update -n base conda &emsp;# 콘다(conda)라는 패키지 관리자 자체를 업데이트
	(base) C:\Users\○○○>&emsp;conda update --all &emsp;&emsp;# 현재설치된 파이썬 패키지를 최신버전으로 모두 업데이트
</blockquote>

(4) **CUDA 10.0** 설치: https://developer.nvidia.com/cuda-10.0-download-archive?target_os=Windows&target_arch=x86_64
* 설치 중간 화면에서 빠른 설치 체크
* 설치 중간 화면에서 Launch Samples, Launch Documentation 체크 해제
(5) **cudnn 7.6.1** : https://developer.nvidia.com/rdp/cudnn-download *로그인* 후 다운
* cuDNN라이브러리는 압축 파일로 되어 있고 압축 풀면 3개 폴더 나옴

* 일반적 방법: 3개 폴더 속 각 1개의 파일을 CUDA 라이브러리 설치된 폴더에 덮어씀
(6) **다른 방법**(권장): 압축 풀면 cuda 폴더 안에 bin, include, lib 폴더 있음
* cuda 폴더를 바탕화면에 복사
* 환경변수에 경로 추가: cuda 폴더를 덮어쓰지 않는 대신 cuDNN 파일에 대한 경로를 환경에 추가해야함
* [내PC]-[속성]-[고급 시스템 설정] → [환경변수]-[사용자 변수]-[Path]-[편집] → 바탕화면의 bin, include, lib 경로 추가
* [시스템 변수]에 CUDA_PATH 항목이 보이면 CUDA라이브러리가 잘 설치된 것

<blockquote>
	(base) C:\Users\○○○> nvcc --version &emsp;&emsp;&emsp;# NVIDIA 드라이버가 설치됐는지 확인
</blockquote>

<br>---<br>

3. 가상환경 만들기


<blockquote>
	(base) C:\Users\○○○>&emsp;conda search python 
		*# 사용가능한 버전 목록 보여줌*
	(base) C:\Users\○○○>&emsp;conda create -n □□□ python python=버전 anaconda 
		*# 지정한 python 버전의 개발환경 만들고 □□□으로 명명*
	(base) C:\Users\○○○>c&emsp;onda info --envs 
		*# 가상환경 내역 확인*
	(base) C:\Users\○○○>&emsp;conda remove --name □□□ -- all 
		*# 가상환경 삭제*
	(□□□) C:\Users\○○○>&emsp;conda install jupyter notebook 
		*# 주피터 노트북 설치(conda 가상환경에 진입한 상태(activate)에서 하기)*
	(□□□) C:\Users\○○○>&emsp;jupyter notebook 
		*# 주피터 노트북 실행*
	(□□□) C:\Users\○○○>&emsp;conda install -c conda-forge jupyter_contrib_nbextensions 
		*# 주피터노트북 확장프로그램 설치*
</blockquote>

* http://localhost:8888/nbextensions?nbextension=zenmode/main # 확장프로그램 제어사이트

* 주피터 노트북 테마 바꾸기:
<blockquote>pip install jupyterthemes</blockquote>

* jt -h: 사용 가능한 명령어 목록 출력 
* jt -l: 적용가능한 테마 목록 출력 
* jt -t 테마이름: 테마 적용 
* jt -r: 원래 테마(흰색)으로 리셋

<br>---<br>

4. PyTorch, TensorFlow 설치


<blockquote>
	(□□□) C:\Users\○○○>&emsp;conda install pytorch torchvision cuda100 -c pytorch&emsp;# GPU에서 Pytorch 설치
</blockquote>

* PyTorch에서 CUDA가 잘 작동하는지 확인
 - python

 <blockquote>
 	(□□□) C:\Users\○○○>&emsp;cpu_tensor = torch.zeros(2,3)
	(□□□) C:\Users\○○○>&emsp;device = torch.device(“cuda:0”)
	(□□□) C:\Users\○○○>&emsp;gpu_tensor = cpu_tensor.to(device)
	(□□□) C:\Users\○○○>&emsp;print(gpu_tensor)
 </blockquote>

 - import torch

 <blockquote>
 	(□□□) C:\Users\○○○>&emsp;torch.cuda_is_available() &emsp;# True가 나오면 cuda 작동
	(□□□) C:\Users\○○○>&emsp;torch.cuda.get_device_name(0) &emsp;# 그래픽 디바이스 정보 확인
 </blockquote>

* CPU에서 Pytorch 설치: 

<blockquote></blockquote>

* GPU에서 Tensorflow 설치: pip install tensorflow-gpu | pip install keras
* CPU에서 Tensorflow 설치: pip install tensorflow | pip install keras

<br>---<br>

5. PyCharm에서 conda 가상환경을 불러와 PyTorch 설치하기


[File]-[Settings]-[Project: 이름]-[Project Interpreter]-[설정 아이콘]-[show all]-[+]
→ Existing environment에 체크
→ Interpreter 선택 시 [Anaconda]-[envs]-[Pytorch가 설치된 가상환경 이름]
→ python.exe 파일 선택

<br>---<br>

<참고>
1. 멀티캠퍼스 강의 중 최점기 강사님 
2. <https://pythonkim.tistory.com/137>
3. <https://semf.tistory.com/23>
4. <https://leebaro.tistory.com/entry/anaconda%EC%97%90%EC%84%9C-%EA%B0%80%EC%83%81%ED%99%98%EA%B2%BD-%EC%82%AD%EC%A0%9C%ED%95%98%EA%B8%B0>
5. <https://blog.naver.com/hobbang143/221464304548>
6. <https://greenmon.dev/2019/06/21/ubuntu-cuda.html>
